{"width":1,"height":1,"padding":"auto","data":[{"name":"source","format":{"parse":{"m_teps":"number"}},"transform":[{"type":"filter","test":"datum.m_teps!==null"},{"type":"filter","test":"datum.m_teps > 0"}]},{"name":"layout","source":"source","transform":[{"type":"aggregate","summarize":[{"field":"dataset","ops":["distinct"]}]},{"type":"formula","field":"cellWidth","expr":"(datum.distinct_dataset + 1) * 21"},{"type":"formula","field":"cellHeight","expr":"200"},{"type":"formula","field":"width","expr":"(datum.distinct_dataset + 1) * 21"},{"type":"formula","field":"height","expr":"200"}]}],"marks":[{"name":"root","type":"group","from":{"data":"layout"},"properties":{"update":{"width":{"field":"width"},"height":{"field":"height"}}},"marks":[{"type":"symbol","from":{"data":"source"},"properties":{"update":{"x":{"scale":"x","field":"dataset"},"y":{"scale":"y","field":"m_teps"},"size":{"value":30},"strokeWidth":{"value":2},"opacity":{"value":0.7},"stroke":{"value":"#4682b4"}}}}],"scales":[{"name":"x","type":"ordinal","domain":{"data":"source","field":"dataset","sort":true},"bandSize":21,"round":true,"padding":1,"points":true},{"name":"y","type":"log","domain":{"data":"source","field":"m_teps"},"rangeMin":200,"rangeMax":0,"round":true,"nice":true,"zero":true}],"axes":[{"type":"x","scale":"x","grid":false,"ticks":5,"title":"dataset","properties":{"axis":{},"labels":{"text":{"template":"{{ datum.data | truncate:25}}"},"angle":{"value":270},"align":{"value":"right"},"baseline":{"value":"middle"}}}},{"type":"y","scale":"y","format":"s","grid":true,"layer":"back","title":"MTEPS","properties":{"axis":{},"labels":{}}}]}]}